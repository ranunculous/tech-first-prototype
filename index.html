<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tech-First Thinking™ for Airport Designers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: "Avenir", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 2rem;
      max-width: 960px;
      margin-inline: auto;
      line-height: 1.5;
      background: #fafafa;
    }
    h1 {
      margin-bottom: 0.25rem;
    }
    h2 {
      margin-top: 2rem;
    }
    label {
      display: block;
      font-weight: 600;
      margin-top: 1rem;
    }
    input,
    textarea,
    select,
    button {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
      font-size: 1rem;
      box-sizing: border-box;
      font-family: "Avenir", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }
    textarea {
      resize: vertical;
    }
    button {
      margin-top: 1.5rem;
      cursor: pointer;
      border-radius: 4px;
      border: 1px solid #111;
      background: #111;
      color: #fff;
      font-weight: 600;
    }
    button:hover {
      opacity: 0.9;
    }
    .small {
      font-size: 0.9rem;
      color: #555;
    }
    #status {
      margin-top: 1rem;
      font-size: 0.95rem;
    }
    #output {
      margin-top: 2rem;
      white-space: pre-wrap;
      background: #f6f6f6;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 0.95rem;
    }
    .hidden {
      display: none;
    }
    .question-box {
      margin-top: 1.5rem;
      padding: 1rem;
      background: #fff;
      border-radius: 8px;
      border: 1px solid #ddd;
    }
    .question-label {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .divider {
      margin: 2.5rem 0 1.5rem;
      border: none;
      border-top: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <h1>Tech-First Thinking™ for Airport Designers</h1>
  <p class="small">
    This tool applies the Tech-First Thinking framework to airport projects to offer a more strategic approach to design.
    Enter your airport project details.
  </p>

<section id="what-is">
  <h2>What is Tech-First Thinking?</h2>
  <p>
    Tech-First Thinking is a strategic design method for architects who refuse to work in the old order — 
    the world where design begins with form and ends with drawings. It is for those who see that buildings 
    now operate as systems, and that outcomes are shaped as much by data, flow, and intelligence as by 
    materials and geometry.
  </p>

  <p>
    Tech-First Thinking starts where design-only thinking stops: with the outcomes a place must deliver. 
    Throughput, comfort, reliability, clarity, revenue, safety, humanity — these are not aesthetic questions, 
    they are system questions. And today, systems run on technology.
  </p>

  <p>
    This is one of the core tools of the <strong>Innovation Architect</strong> — a new kind of architect who 
    integrates technology, behavior, and physical space to create environments that actually work. 
    Innovation Architects don’t draw buildings first. They shape the conditions that make innovation possible: 
    the flows, the frictions, the hidden constraints, the operational logic, and the technological leverage 
    points that change what a project can become.
  </p>

  <p>
    Airports are the clearest proving ground. They expose everything: limits of space, limits of process, 
    limits of comfort, limits of current systems. A Tech-First approach helps airport designers understand 
    not just what a concourse <em>should look like</em>, but how it should perform — and how technology 
    can unlock outcomes that drawings alone never could.
  </p>

  <p>
    This tool applies that method. Enter your project. It will interpret the context, identify leverage, 
    ask one clarifying question, and generate a Tech-First strategy you can use with colleagues, clients, 
    or on your own projects. It is not a design tool. It is a thinking tool.
  </p>
</section>

  <section id="how-it-works">
    <h2>How this tool works</h2>
    <p class="small">
      Under the hood, this tool applies an airport-specific version of the Tech-First Thinking framework:
    </p>
    <ul class="small">
      <li><strong>Discover</strong> – Interpret context, constraints, and pain points.</li>
      <li><strong>Define</strong> – Turn goals into measurable, tech-leverageable outcomes.</li>
      <li><strong>Design</strong> – Focus on critical journey moments and where tech actually moves the needle.</li>
      <li><strong>Deploy</strong> – Synthesize it all into a Tech-First brief and roadmap.</li>
    </ul>
    <p class="small">
      You give it a real project. It gives you a structured airport strategy you can discuss with your team, your client, or your own future self.
    </p>
  </section>

  <hr class="divider" />

  <!-- STEP 1: PROJECT INPUTS -->
  <h2>Step 1 — Describe your airport project</h2>
  <form id="project-form">
    <label>
      Project name
      <input type="text" name="projectName" placeholder="e.g., LAX T7–T8 Refresh" required />
    </label>

    <label>
      Airport area / typology
      <select name="typology" required>
        <option value="">Select one…</option>
        <option>Terminal modernization</option>
        <option>New concourse</option>
        <option>Remote concourse / ADA-like</option>
        <option>Departures hall / check-in</option>
        <option>Security checkpoint</option>
        <option>Holdrooms / gate areas</option>
        <option>FIS / arrivals processing</option>
        <option>Curbside / landside</option>
        <option>Multi-area / system-wide</option>
        <option>Other airport facility</option>
      </select>
    </label>

    <label>
      Location / context
      <input
        type="text"
        name="location"
        placeholder="City, region, climate, aviation role (hub vs O&D), expected demand, major events (e.g., Olympics)."
        required
      />
    </label>

    <label>
      Primary users / stakeholders
      <textarea
        name="users"
        rows="2"
        placeholder="e.g., departing passengers, arriving passengers, airline staff, airport ops, TSA, CBP, concessions operators, etc."
        required
      ></textarea>
    </label>

    <label>
      Organizational goals (list as many as you like)
      <textarea
        name="goals"
        rows="3"
        placeholder="List goals from different stakeholders: operations, passenger experience, airlines, revenue, resilience, Skytrax/IATA targets, Olympics readiness, etc."
        required
      ></textarea>
    </label>

    <label>
      Time horizon
      <input
        type="text"
        name="timeHorizon"
        placeholder="e.g., Design for 2030, 10-year adaptability, opening by 2028 for Olympics."
      />
    </label>

    <label>
      Known / existing digital systems
      <textarea
        name="systems"
        rows="3"
        placeholder="BMS, FIDS, AODB, wayfinding, existing analytics dashboards, queue management, security systems, apps, etc. (as far as you know)."
      ></textarea>
    </label>

    <label>
      Key constraints / non-negotiables
      <textarea
        name="constraints"
        rows="3"
        placeholder="e.g., fixed footprint, limited budget, aggressive schedule, construction phasing with live operations, security and regulatory constraints, airline lease limits, etc."
      ></textarea>
    </label>

    <label>
      Current pain points / frustrations
      <textarea
        name="painPoints"
        rows="3"
        placeholder="What's broken or frustrating today? e.g., undersized holdrooms at peak, security queues exceeding targets, weak concessions spend, inconsistent passenger experience, etc."
      ></textarea>
    </label>

    <button type="submit">Continue</button>
  </form>

  <!-- STEP 2: CLARIFYING QUESTION -->
  <div id="question-step" class="hidden">
    <h2>Step 2 — Strategic clarification</h2>
    <div class="question-box">
      <div class="question-label">Tech-First Thinking™ asks:</div>
      <div id="clarifying-question" class="small"></div>
      <label style="margin-top: 1rem;">
        Your answer
        <textarea
          id="clarifying-answer"
          rows="3"
          placeholder="Answer this one question as specifically as you can. This will sharpen the airport strategy."
        ></textarea>
      </label>
    </div>
    <button id="generate-report-btn">Generate Tech-First Airport Report</button>
  </div>

  <!-- STATUS + OUTPUT -->
  <div id="status"></div>
  <div id="output"></div>

  <script>
    const form = document.getElementById('project-form');
    const statusEl = document.getElementById('status');
    const outputEl = document.getElementById('output');

    const questionStepEl = document.getElementById('question-step');
    const clarifyingQuestionEl = document.getElementById('clarifying-question');
    const clarifyingAnswerEl = document.getElementById('clarifying-answer');
    const generateReportBtn = document.getElementById('generate-report-btn');

    // We'll store the original form payload so we can reuse it when generating the report
    let storedPayload = null;
    let storedQuestion = null;

    // Step 1: submit project info and get a clarifying question
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = 'Analyzing your project… asking one strategic clarifying question.';
      outputEl.textContent = '';
      questionStepEl.classList.add('hidden');
      clarifyingAnswerEl.value = '';

      const formData = new FormData(form);
      const payload = Object.fromEntries(formData.entries());
      storedPayload = payload; // store for later

      try {
        const res = await fetch('/.netlify/functions/generate-question', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });

        if (!res.ok) {
          const text = await res.text();
          throw new Error(text || 'Request failed');
        }

        const data = await res.json();
        const question = data.question || 'Before I proceed, what is the single most important thing I should know about this project?';

        storedQuestion = question;
        clarifyingQuestionEl.textContent = question;
        questionStepEl.classList.remove('hidden');
        statusEl.textContent = 'Answer the question below, then generate your report.';

      } catch (err) {
        console.error(err);
        statusEl.textContent = 'Error generating clarifying question. Please try again.';
      }
    });

    // Step 2: submit clarifying answer and generate report
    generateReportBtn.addEventListener('click', async () => {
      if (!storedPayload) {
        statusEl.textContent = 'Please complete Step 1 first.';
        return;
      }

      const clarifyingAnswer = clarifyingAnswerEl.value.trim();
      if (!clarifyingAnswer) {
        statusEl.textContent = 'Please answer the clarifying question before generating the report.';
        return;
      }

      statusEl.textContent = 'Generating Tech-First airport report… this may take a minute.';
      outputEl.textContent = '';

      const payload = {
        ...storedPayload,
        clarifyingQuestion: storedQuestion || '',
        clarifyingAnswer,
      };

      try {
        const res = await fetch('/.netlify/functions/generate-report', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });

        if (!res.ok) {
          const text = await res.text();
          throw new Error(text || 'Request failed');
        }

        const data = await res.json();
        statusEl.textContent = 'Done.';
        outputEl.textContent = data.report || '(No report returned)';
      } catch (err) {
        console.error(err);
        statusEl.textContent = 'Error generating report. Check console or try again.';
      }
    });
  </script>
</body>
</html>
